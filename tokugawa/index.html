<!DOCTYPE HTML>
<html lang="ja">
<title>徳川15代将軍</title>

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="UTF-8" name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta property="og:title" content="徳川15代将軍" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://tokugawa-15general.netlify.app/images/ogp.png" />
  <meta name="description" content="徳川15代将軍をアプリにまとめました。歴史教育にご利用ください！" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="徳川15代将軍" />
  <meta name="twitter:image" content="https://tokugawa-15general.netlify.app/images/ogp.png" />
  <meta name="author" content="Saito Hitoshi">
  <meta name="keywords" content="徳川氏,徳川,将軍,歴史,教育,日本史" />
  <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">
  <link rel="icon" href="./images/apple-touch-icon.png">

  <!-- tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"
    integrity="sha512-GWzVrcGlo0TxTRvz9ttioyYJ+Wwk9Ck0G81D+eO63BaqHaJ3YZX9wuqjwgfcV/MrB2PhaVX9DkYVhbFpStnqpQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://d3js.org/d3.v5.min.js"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>

  <style>
    html {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      width: 100%;
      height: 100%;
      padding: 0;
      margin: 0;
      font-family: "Meiryo", "Hiragino Maru Gothic Pro", sans-serif;
      background-attachment: fixed;
      background-repeat: repeat;
      background-position: top center;
      background-image: url("./images/background.jpg");
      background-color: rgba(255, 255, 255, 0.2);
      background-blend-mode: lighten;
    }

    body::before {
      content: "";
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
      width: 100%;
      height: 100vh;
      background-repeat: repeat;
      background-position: top center;
      background-image: url("./images/background.jpg");
      background-color: rgba(255, 255, 255, 0.2);
      background-blend-mode: lighten;
    }

    h1 {
      color: #ffffff;
    }

    .header {
      width: 100%;
      position: fixed;
      top: 0;
      z-index: 11;
      background: #006e54;
    }

    #closed-btn {
      position: absolute;
      top: 5px;
      right: 5px;
      border-radius: 100%;
      color: #000000;
      border: 1px solid #000000;
      cursor: pointer;
      width: 30px;
      height: 30px;
      text-align: center;
    }

    #closed-btn:hover {
      background: rgba(0, 0, 0, .5);
      color: #ffffff;
      border: 1px solid #ffffff;
    }

    .btn-menu {
      position: fixed;
      top: 12px;
      right: 5px;
      border: 1px solid #ffffff;
      background: transparent;
      color: #ffffff;
      padding: .5rem;
      font-size: 1rem;
      cursor: pointer;
      line-height: 1;
      border-radius: .3em;
    }

    iframe {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      border: none;
      position: absolute;
      z-index: 0;
    }

    .main {
      position: absolute;
      margin: 70px 0 0 0;
      padding: 0 0 30px 0;
      z-index: 5;
      width: 90%;
      max-width: 700px;
      left: 50%;
      transform: translate(-50%);

    }

    #overlay {
      width: 100%;
      height: 120vh;
      position: fixed;
      top: 0;
      left: 0;
      background: rgba(0, 0, 0, .8);
      display: none;
      z-index: 15;
    }

    #overview {
      left: 50%;
      position: fixed;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 85%;
      max-width: 600px;
      display: none;
      z-index: 17;
      background: #ffffff;
    }

    #overview a{
      border-bottom: 2px dotted #a0d8ef;
      color: #a0d8ef
    }

    .table {
      padding: 10px;
      margin: 10px 0 10px 0;
      border: 1px solid #000000;
      background: rgba(255, 255, 255, .9);
      border-radius: .5em;
      width: 100%;
    }

    .timeline-col {
      border-left: 1px solid #000000;
    }

    .footer {
      width: 100%;
      position: fixed;
      bottom: 0;
      z-index: 11;
      background: #006e54;
      color: #ffffff;
    }

    .footer a {
      border-bottom: 1px dotted #ffffff;
    }

    .sns-fb {
      position: fixed;
      left: 3px;
      bottom: 35px;
      z-index: 10;
    }

    .item_title {
      color: rgba(0, 119, 184, 1);
      font-weight: bolder;
    }

    .pagetop {
      height: 40px;
      width: 40px;
      position: fixed;
      right: 5px;
      bottom: 35px;
      background: #2ca9e1;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
      cursor: pointer;
    }

    .pagetop_arrow {
      height: 10px;
      width: 10px;
      border-top: 3px solid #ffffff;
      border-right: 3px solid #ffffff;
      transform: translateY(20%) rotate(-45deg);
    }
  </style>

  <link rel="manifest" href="./manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js').then(function () {
        console.log('Service Worker Registered');
      });
    }
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MPP84V2NHB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-MPP84V2NHB');
  </script>

</head>

<body>

  <div class="header p-3">
    <center>
      <table>
        <tr>
          <td>
            <img src="./images/kabuto.png" width="32px">
          </td>
          <td class="pl-3 pr-2">
            <h1 class="text-2xl">徳川１５代将軍</h1>
          </td>
          <td>
            <img src="./images/sword.png" width="32px">
          </td>
        </tr>
      </table>
    </center>

    <button class="btn-menu"><i class="fa-solid fa-bars"></i></button>

  </div>


  <div class="main">

    <!--<div class="table">
      <p><span class="item_title">徳川家康</span>（とくがわ　いえやす）</p>
      <div class="md:flex flex-row pl-5 px-5 mt-3">
        <div class="text-center basis-1/3 mb-0">

          <img src="https://upload.wikimedia.org/wikipedia/commons/1/11/Tokugawa_Ieyasu2.JPG" id="image_border"
            class="mb-1" alt="徳川家康の写真">
        </div>

        <div class="basis-2/3 mt-2 md:pl-5 md:mt-0 text-zinc-600 grid grid-cols-6 gap-1">
          <div class="col-span-1">
            <p class="">1600</p>
          </div>
          <div class="col-span-4 pl-3 timeline-col">
            <p>関ヶ原の戦い</p>
          </div>
        </div>
      </div>
    </div>-->

    <div id="result"></div>

  </div>

  <!-- ポップアップ用のoverlay -->
  <div id="overlay"></div>

  <div id="overview" class="p-3"><span id="closed-btn">×</span>
    <h3 class="text-xl mb-3">徳川15代将軍を覚えよう！</h3>

    <p class="mb-3">徳川15代将軍を暗記するためのアプリです。画像と名前をセットで覚えましょう！</p>

    <h3 class="text-xl mb-3"><i class="fa-solid fa-book"></i> データ出典</h3>

    <a href="https://linkdata.org/work/rdf1s7309i" target="_blank">江戸幕府の徳川将軍のデータ <i class="fa-solid fa-link"></i></a>

    <h3 class="text-xl my-3"><i class="fa-solid fa-comments"></i> シェア</h3>

    <p id="manual_h3">・アプリURL</p>
    <p class="text-sm">https://tokugawa-15general.netlify.app/</p>

    <p class="text-xl mt-5" id="manual_h3">・２次元バーコード</p>
    <img src="./images/qr.png" alt="二次元バーコード">


  </div>

  <div class="sns-fb">

    <div class="fb-share-button" data-href="https://tokugawa-15general.netlify.app/" data-layout="button_count"
      data-size="small"></div>

  </div>

  <div class="pagetop">
    <div class="pagetop_arrow"></div>
  </div>

  <!-- フッター -->
  <div id="footer" class="footer p-2 text-center">

    <p class="text-xs"><a href="https://github.com/linkevery2s/quest-and-answer" target="_blank">src on GitHub</a>.
      &copy <a href="https://hitoshi2s.netlify.app/" target="_blank">齋藤 仁志</a>. <a
        href="https://docs.google.com/forms/d/e/1FAIpQLSf-WMoBJRTdA1bmN_SmQ-bsNGeLs1l737d3c9BUNuErjH-KBw/viewform"
        target="_blank">お問い合わせ</a></p>

  </div>

  <script type="module">

    const result = document.querySelector("#result");

    result.innerHTML = "";

    /* 最初のロード時 */
    onload = async () => {

      const topButton = document.querySelector(".pagetop");

      topButton.addEventListener("click", () => {

        $('body,html').animate({ scrollTop: 0 }, 1000);
        return false;

      });

      const data = await d3.csv('./data/tokugawa.csv');
      const max = data.length

      for (let i = 0; i < max; i++) {

        result.innerHTML += '<div class="table">' + '<div class="item_title">' + data[i].name + '</div>' + '<div class="item_ex">' + data[i].kana + '</div>' + '<img src=' + data[i].image + ' width = "100%" class="image_data">' + '</div>';

      };

    };

    const overview_btn = document.querySelector('.btn-menu');
    const closed_btn = document.querySelector("#closed-btn");
    const overlay = document.querySelector('#overlay');

    overview_btn.addEventListener('click', () => {
      $('#overlay').fadeIn();
      $('#overview').fadeIn();
    });

    closed_btn.addEventListener('click', () => {
      $('#overlay').fadeOut();
      $('#overview').fadeOut();
    });

    overlay.addEventListener('click', () => {
      $('#overlay').fadeOut();
      $('#overview').fadeOut();
    });

  </script>

  <!-- Facebookシェアボタン -->
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v19.0"
    nonce="Pm3nh7PB"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MPP84V2NHB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-MPP84V2NHB');
  </script>

</body>

</html>